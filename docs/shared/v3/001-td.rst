交易账户面板
---------------

用户可以在面板中添加新账户、删除/编辑已有账户、创建账户组、单独启动/中止某个账户进程。

.. image:: _images/交易账户面板-25.png


.. image:: _images/交易账户-27.png


-----

添加账户
~~~~~~~~~

(1) 点击交易账户面板的“添加”按钮。

.. image:: _images/添加账户-25.png



(2) 选择添加账户所使用的柜台 : ctp (期货柜台) , xtp (股票柜台) , sim (模拟柜台)。

    **注 : sim柜台数据为随机数据，仅供参考**

.. image:: _images/账户柜台选择-25.png

.. image:: _images/账户柜台选择-27.png

(3) 示例：添加“CTP账户”。
    
    **第二步选择添加CTP柜台 , 点击确认后，弹出账号设置弹窗**

.. image:: _images/添加ctp账户-25.png

.. note:: 填写账户信息，请参考以下表格。

.. list-table::
   :header-rows: 1

   * - 字段
     - 字段说明
   * - 账户名称
     - 账户备注
   * - 账户ID
     - 交易账户名称，券商提供（例如：089270）
   * - 密码
     - 交易账户密码，券商提供（例如：123456）
   * - 期货券商代码
     - 券商代码(broke_id)（例如：9999）
   * - 穿透认证码
     - 授权码(auth_code)，实盘由券商提供，模拟盘为 0000000000000000
   * - 客户端名称
     - 软件信息，请填写“KUNGFU”
   * - 客户端识别号
     - 申请授权码的时候提交的id，实盘填写“TAURUS_KUNGFU_2.0”，模拟盘填写 “simnow_client_test”
   * - 交易IP
     - 交易柜台地址 （例：180.168.146.187）
   * - 端口
     - 交易柜台端口 （例：10200）
   * - 同步外部订单
     - 开启后，当用户交易账户进程开启时，其他交易软件的订单也将同步到功夫交易系统中，委托记录中“下单源”将显示“系统外”
   * - 恢复今日订单
     - 开启后，启动账户时将从柜台拉取本交易日的订单
   * - License Code
     - 账户授权码 (`官网许可购买页面 <https://www.kungfu-trader.com/index.php/license/>`_ 进行购买)


完成填写后，点击“确定”完成账户配置，可点击进程开关按钮以运行账户。

(4) 示例：添加“CTP穿透式”交易账户。
    
    **第二步选择添加CTP穿透式柜台 , 点击确认后，弹出账号设置弹窗**

.. image:: _images/添加ctptest账户-27.png

.. note:: 填写账户信息，请参考以下表格。

.. list-table::
   :header-rows: 1

   * - 字段
     - 字段说明
   * - 账户名称
     - 账户备注
   * - 账户ID
     - 交易账户名称，券商提供（例如：089270）
   * - 密码
     - 交易账户密码，券商提供（例如：123456）
   * - 期货券商代码
     - 券商代码(broke_id)（例如：9999）
   * - 穿透认证码
     - 授权码(auth_code)，实盘由券商提供，模拟盘为 0000000000000000
   * - 客户端名称
     - 软件信息，请填写“KUNGFU”
   * - 客户端识别号
     - 申请授权码的时候提交的id，实盘填写“TAURUS_KUNGFU_2.0”，模拟盘填写 “simnow_client_test”
   * - 交易IP
     - 交易柜台地址 （例：180.168.146.187）
   * - 端口
     - 交易柜台端口 （例：10200）
   * - 同步外部订单
     - 开启后，当用户交易账户进程开启时，其他交易软件的订单也将同步到功夫交易系统中，委托记录中“下单源”将显示“系统外”
   * - 恢复今日订单
     - 开启后，启动账户时将从柜台拉取本交易日的订单
   * - License Code
     - 账户授权码 (`官网许可购买页面 <https://www.kungfu-trader.com/index.php/license/>`_ 进行购买)


完成填写后，点击“确定”完成账户配置，可点击进程开关按钮以运行账户。

(5) 示例：添加“XTP账户”。
    
    **第二步选择添加XTP柜台 , 点击确认后，弹出账号设置弹窗**

.. image:: _images/xtp账户-25.png

.. note:: 填写账户信息，请参考以下表格。

.. list-table::
   :header-rows: 1

   * - 字段
     - 字段说明
   * - 账户别名
     - 账户备注
   * - 账户id
     - 股票交易账户
   * - 密码
     - 股票交易账户密码
   * - 软件密钥
     - 券商提供
   * - 交易IP
     - 交易柜台IP地址,券商提供 (例如 : 122.112.139.0 )
   * - 交易端口
     - 交易柜台端口,券商提供 (例如 : 6101)
   * - 客户ID
     - 1~99中选择任意数字填写，用于区分同一账户多客户端登录
   * - 同步外部订单
     - 开启后，当用户交易账户进程开启时，其他交易软件的订单也将同步到功夫交易系统中，委托记录中“下单源”将显示“系统外”
   * - 恢复今日订单
     - 开启后，启动账户时将从柜台拉取本交易日的订单
   * - License Code
     - 账户授权码 (`官网许可购买页面 <https://www.kungfu-trader.com/index.php/license/>`_ 进行购买)


完成填写后，点击“确定”完成账户配置，可点击进程开关按钮以运行账户。


(6) 示例：添加“功夫模拟 (sim) 账户”。
    **第二步选择添加功夫模拟柜台 , 点击确认后，弹出账号设置弹窗**

.. image:: _images/sim账户-25.png


.. note:: 填写账户信息，请参考以下表格。

.. list-table::
   :header-rows: 1

   * - 字段
     - 字段含义
   * - 账户ID
     - 交易的账户id（ 随意填写 ， 例如 :  111 ， test）
   * - 撮合模式
     - 用户可从“失败、等待中、撤单、部分成交部分撤单、部分成交部分等待、成交、多笔成交”中选择其一，使用此账户下单委托的订单状态将模拟为撮合状态设置的模式，以便测试时使用


完成填写后，点击“确定”完成账户配置，可点击进程开关按钮以运行账户。

-----


账户启动
~~~~~~~~~

点击账户的进程按钮运行账户，进程状态为 “就绪” 时表示账户登录成功。


.. image:: _images/启动账户进程-25.png


-----


账户信息查看/编辑
~~~~~~~~~~~~~~~~~

点击“账户设置”按钮。

.. image:: _images/账户设置按钮-25.png



用户可查看该账户设置的信息及参数并进行修改。

.. attention:: 
   - 账户进程开启时修改账户信息，修改内容不会即时生效。
   - 需要用户手动重启账户进程，新的账户配置才能生效。


-----

账户日志
~~~~~~~~~
日志可帮助用户监控账户的运行情况，排查异常内容。

.. image:: _images/账户日志-25.png

点击日志按钮，系统将在新窗口展示账户实时运行日志。

.. image:: _images/账户日志.png

.. image:: _images/行情日志-27.png


-----


账户删除
~~~~~~~~~

.. image:: _images/账户删除-25.png


点击删除按钮将关闭该账户交易进程并清空所有账户数据、删除该账户。

.. attention::
   - 删除账户会清空的账户数据包括该账户委托记录、该账户成交记录，该账户交易日志等信息。
   - 如果需要保留数据请在删除前做好下载工作。

-----




