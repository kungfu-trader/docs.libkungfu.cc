高精策略回测
----------------

.. note:: 功夫高精回测的优势 

   - **全场景覆盖的自研撮合引擎** ：优秀的撮合与 tick 级数据使得回测结果能够与实盘结果无限接近，功夫提供自研回测撮合引擎对 集合竞价撮合、换日委托失效、分笔成交、涨跌停过滤等场景均有覆盖，更加精准地模拟策略表现，接近实盘表现。
   - **高质量行情数据** ：使用经过深度清洗处理的高质量逐笔行情数据，用户无需再经历繁琐的数据预处理阶段。
   - **高效存储与执行机制** ：搭载自研易筋经内存数据库，利用共享内存实现数据高速存取，避免频繁磁盘操作。系统仅需即时读取内存数据，可逼近 IO 极限，显著提升回测效率，缩短回测用时。
   - **无缝对接实盘交易** ：回测使用与实盘一致的数据流。回测结束后，策略代码无需调整即可直接应用于实盘环境。免去代码转写的繁琐。
   - **私有化部署与定制扩展能力** ：功夫回测支持本地私有化部署，保障策略安全。同时，撮合引擎、数据工具及回测报告等多个模块均支持自定义开发，满足个性化需求。如有合作意向或咨询需求，欢迎 `联系我们 <https://www.kungfu-trader.com/index.php/consult/>`_  。


面板说明
~~~~~~~~~~~

.. image:: _images/使用回测-27.png


新建高精回测任务
^^^^^^^^^^^^^^^^^^^


(1) 点击左侧边栏“策略回测”

.. image:: _images/进入策略回测-27.png

(2) 点击“添加策略”，选择策略代码文件并完成策略添加。如果要回测的策略已添加，请跳到第三步

.. image:: _images/使用回测3-27.png

(3) 选中策略。

.. image:: _images/使用回测4-27.png

(4) 点击“新建回测”。选择回测数据源、回测起止时间。

.. image:: _images/使用回测5-27.png

.. image:: _images/使用回测6-27.png

(7) 回测任务提交成功，回测任务状态为“运行中”，下方回测日志输出中。 等待回测任务状态变为“已完成”即可进入下一步。

.. image:: _images/使用回测8-27.png

(8) 回测任务状态变为“已完成”，点击下载报告。

.. image:: _images/使用回测9-27.png

(9) 解压回测报告，打开html文件，查看回测报告。

.. image:: _images/查看回测报告html.png

.. tip:: 查看回测报告：
   
   - 鼠标拖拽收益图可放大查看时间段内收益表现。
   - html右上角支持对回测报告进行多项操作，包括标记区域、放大、缩小、保存为图片等操作。

.. image:: _images/回测报告Html-png.png

-----